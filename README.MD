# MA.Clean.Template

üöÄ A Clean Architecture template for **.NET 8** featuring **CQRS + MediatR**, a rich **Result<T> wrapper**, centralized **BaseController**, **RepositoryBase**, **EntityBase**, and a well-structured solution layout for building new services.

## Solution Structure
```
MA.Clean.Template.sln
src/
  MA.Clean.Template.Domain/           # Domain entities, enums, value objects
  MA.Clean.Template.Application/      # CQRS (Commands/Queries + Handlers), Abstractions
  MA.Clean.Template.Infrastructure/   # Repository base, EF Core, persistence
  MA.Clean.Template.Api/              # ASP.NET Core Web API (BaseController, versioning, middleware)
  MA.Clean.Template.Worker/           # Background service (optional)
  MA.Clean.Template.Shared/           # Result<T>, constants, exceptions, common helpers

tests/
  MA.Clean.Template.Tests/            # xUnit + FluentAssertions
```

## Features
- ‚úÖ .NET 8
- ‚úÖ Clean Architecture layering
- ‚úÖ CQRS with **MediatR**
- ‚úÖ `Result<T>` wrapper (rich errors + static factory methods)
- ‚úÖ Centralized BaseController with **API versioning**
- ‚úÖ RepositoryBase + custom repositories per entity
- ‚úÖ Abstract EntityBase (Id, audit fields)
- ‚úÖ Middleware for error handling & logging
- ‚úÖ Unit test samples using **xUnit** + **FluentAssertions**
- ‚úÖ Packaged as a **dotnet new** template

## Getting Started

### 1. Install the Template

```powershell
git clone https://github.com/mohdagung/MA.CleanArchitecture.Template
dotnet new install .\MA.CleanArchitecture.Template
```

### 2. Create a New Service
```powershell
dotnet new ma-clean -n MA.MyService
cd MA.MyService
dotnet build
```

### 3. Run the API
```powershell
dotnet run --project src/MA.MyService.Api
```
Swagger UI available at:
```
https://localhost:<port>/swagger
```

### 4. Run the Worker
```powershell
dotnet run --project src/MA.MyService.Worker
```

### 5. Run Tests
```powershell
dotnet test
```

## Updating the Template
If you update the repo, users need to reinstall the template to get the latest:
```powershell
dotnet new uninstall .\MA.CleanArchitecture.Template
dotnet new install   .\MA.CleanArchitecture.Template
```

Or if they installed from ZIP:
```powershell
dotnet new uninstall .\MA.CleanArchitecture.Template-main
dotnet new install   .\MA.CleanArchitecture.Template-main
```

---

‚úçÔ∏è Author: **MA**  
üõ† Built with [.NET 8](https://dotnet.microsoft.com/)
